# مقدمه
تا اینجا با کلیات مباحث سی پلاس پلاس آشنا شدیم و با دانسته هایی که تا اینجا به دست آوردید میتونید برنامه های ساده رو پیاده سازی کنید و برنامه تون خیلی کار هارو میتونه انجام بده.

اما دلیل اینکه ما میایم از زبان هایی مثل سی پلاس پلاس یا سی استفاده می کنیم مبحثی هست که داخل این قسمت می خوایم بهش بپردازیم. 

# Pointers and References

همونطور که داخل قسمت مربوط به متغیر ها گفتیم وقتی ما یک متغیر رو داخل برنامه تعریف می کنیم ، یک بخشی از حافظه ی رم ما به اون متغیر اختصاص داده میشه. (که اندازه ی اون با توجه به نوع متغیر ما مشخص می شد.)

حالا ما می خوایم ببینیم که دقیقا این متغیر داخل چه آدرسی از رم ذخیره شده و با استفاده از این آدرس سرعت برنامه ی خودمون رو بیشتر کنیم.

# Reference

ما میتونیم دو یا چند تا از متغیر هامونو به هم دیگه لینک کنیم که اگر مقدار یکی از اونها عوض شد مقدار دومی هم عوض بشه.

در واقع ما کاری می کنیم که هر دو متغیر از یک آدرس روی رم اطلاعات خودشون رو بخونن و در لحظه فقط یک اطلاعات میتونه داخل یک آدرس از رم نوشته شده باشه.

برای اینکار اول یک متغیر رو به طور معمول تعریف می کنیم و برای تعریف متغیر بعدی از مفهوم متغیر مرجع یا Reference Variable استفاده می کنیم :

```cpp
string food = "Pizza";  // food variable
string &meal = food;    // reference to food

cout << food << "\n"; // res : Pizza
cout << meal << "\n"; // res : Pizza

meal = "Hamburger";

cout << food << "\n"; // res : Hamburger
cout << meal << "\n"; // res : Hamburger 
```

طبق کد بالا شما هر کدوم از متغیر هارو که تغییر بدید متغیر دیگری هم تغییر خواهد کرد و علت این اتفاق هم اینه که هردو دارن از روی یه آدرس از رم اطلاعات خودشون رو می خونن.

# Memory Address

برای اینکه ببینید آدرس یک متغیر داخل رم چیه و کجای رم مقدارش ذخیره شده میتونید از عملگر `&` استفاده کنید.

```cpp
string food = "Pizza";
cout << &food << "\n"; // 0xfe23a8
```

آدرس متغیر توی رم یک عدد هگزادسیمال (مبنای 16) هست. و با یک `0x` در ابتدای خودش شروع میشه.

وقتی که این متغیر رو به یک متغیر دیگه رفرنس میدیم در واقع به متغیر ثانویه میگیم که اطلاعاتش رو از روی این آدرس توی رم بخونه.

# Pointer

پوینتر در واقع نوع متغیری هست که قراره آدرس یک متغیر دیگه داخل رم روی برای ما ذخیره کنه.

همونطور که دیدید آدرس یک متغیر داخل رم یک مقدار هگزادسیمال بود و نمیتونیم اون رو به راحتی به عنوان یک int یا ... تعریف کنیم.

برای ذخیره سازی این آدرس میایم و از مفهومی به اسم پوینتر استفاده می کنیم :

```cpp
string food = "Pizza";  // A food variable of type string
string* ptr = &food;    // A pointer variable, with the name ptr, that stores the address of food

// Output the value of food (Pizza)
cout << food << "\n";

// Output the memory address of food (0x6dfed4)
cout << &food << "\n";

// Output the memory address of food with the pointer (0x6dfed4)
cout << ptr << "\n";
```
با استفاده از عملگر `*` ما میایم و پوینتر خودمون رو تعریف می کنیم.

دقت داشته باشید که اگر متغیرتون string باشه پوینتر اون هم باید string باشه و به صورت کلی متغیرتون هر تایپی که داشته باشه پوینتر اون هم باید تایپش همون باشه و فقط یک عملگر `*` به اون اضافه میشه که نشون دهنده ی پوینتر بودنش هست.

برای تعریف پوینتر از سه حالت زیر میتونید استفاده کنید که مرسوم ترینش حالت اول هست :
```cpp
string* mystring; // Preferred
string *mystring;
string * mystring;
```
تا اینجا مقدار پوینتر رو ذخیره کردیم حالا می خوایم با استفاده از این آدرس ذخیره شده به دیتایی که داخل اون آدرس ذخیره شده دست پیدا کنیم.

برای اینکار از عملگر `*` کنار اسم پوینتر استفاده می کنیم :

```cpp
string food = "Pizza";  // Variable declaration
string* ptr = &food;    // Pointer declaration

// Reference: Output the memory address of food with the pointer (0x6dfed4)
cout << ptr << "\n";

// Dereference: Output the value of food with the pointer (Pizza)
cout << *ptr << "\n";
```

با استفاده از اینکار مقداری که داخل آدرس متغیر food ذخیره شده رو میتونیم مشاهده کنیم.

برای تغییر دادن مقدار یک متغیر از طریق پوینتر اون هم از روشی مشابه استفاده می کنیم :

```cpp
*ptr = "Hamburger";
```

برای جمعبندی کلی این مطلب میتونید به این کد نگاه کنید تا تمام مطالب گفته شده رو در کنار هم دیگه مشاهده کنید :

```cpp
string food = "Pizza";
string* ptr = &food;

// Output the value of food (Pizza)
cout << food << "\n";

// Output the memory address of food (0x6dfed4)
cout << &food << "\n";

// Access the memory address of food and output its value (Pizza)
cout << *ptr << "\n";

// Change the value of the pointer
*ptr = "Hamburger";

// Output the new value of the pointer (Hamburger)
cout << *ptr << "\n";

// Output the new value of the food variable (Hamburger)
cout << food << "\n";
```

داخل بخش های بعدی بیشتر متوجه کاربرد اصلی و اینکه چطور پوینتر ها باعث افزایش سرعت برنامه میشن میشید. ولی فعلا تا اینجا آشنایی خوبی با پوینتر ها پیدا کردید و میتونید یک پوینتر درست کنید و مقدار داخل اون آدرس رو بخونید یا عوض کنید و آدرسی که یک متغیر توش ذخیره شده رو پیدا کنید.

## Pointer in Arrays :
داخل آرایه ها هم مفهوم پوینتر وجود داره و طرز استفاده ازش یک مقدار متفاوت با متغیر های قبلی هست

در کد زیر یک آرایه می سازیم و با استفاده از پوینتر آن اعضای آن را نمایش می دهیم :

```cpp
int *ptr;
int arr[5];
ptr = arr; // it's equal to &arr[0]

// ptr + 1 is equivalent to &arr[1];
// ptr + 2 is equivalent to &arr[2];
// ptr + 3 is equivalent to &arr[3];
// ptr + 4 is equivalent to &arr[4];
```

داخل کد بالا ما آدرس اولین عضو آرایه ی `arr` رو داخل `ptr` ذخیره کردیم.
اگر مقدار آدرس ذخیره شده رو با 1 جمع کنید آدرس عضو بعدی آرایه به دست میاد. (و همینطور اگر به اضافه 2 کنید آدرس عضو سوم و ...) :

```
ptr + 1 is equivalent to &arr[1];
ptr + 2 is equivalent to &arr[2];
ptr + 3 is equivalent to &arr[3];
ptr + 4 is equivalent to &arr[4];
```

برای به دست آوردن مقدار ذخیره شده در هر کدام از آدرس ها کافیه که یک علامت `*` پشت اون آدرس بزاریم و به صورت زیر میتونیم مقادیر ذخیره شده داخل آرایه ی ساخته شده رو با استفاده از پوینتر اون ببینیم :

```cpp
int *ptr;
int arr[5];
ptr = arr;

cout << *ptr << "\n";
cout << *(ptr + 1) << "\n";
cout << *(ptr + 2) << "\n";
cout << *(ptr + 3) << "\n";
cout << *(ptr + 4) << "\n";
```
داخل کد بالا به ترتیب از ایندکس 0 تا 4 نمایش داده میشن.

اگر هم لازم داشتیم که آدرسشون رو توی رم ببینیم فقط کافیه که علامت `*` رو حذف کنیم و کد رو به صورت زیر بنویسیم :

```cpp
cout << ptr << "\n";
cout << ptr + 1 << "\n";
cout << ptr + 2 << "\n";
cout << ptr + 3 << "\n";
cout << ptr + 4 << "\n";
```

تا اینجا آشنایی اولیه ی نسبتا معقولی از پوینتر ها پیدا کردید و کاربرد های بیشتر اون رو داخل بخش های بعدی خواهید دید.

کد های این قسمت رو هم میتونید از اینجا ببینید :
[Examples](C++/CppTutorialBeginners/09%20-%20Referencing%20and%20Pointers/Program.cpp)